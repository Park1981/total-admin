<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNITECH PORTAL - 제품관리 v2</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/products.css">
    <style>
        /* v2 실험용 레이아웃 */
        .product-form--v2 {
            width: min(900px, 100%);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-2xl);
        }

        .field-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xl);
            margin-top: var(--spacing-xl);
        }

        .field-item {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius-small);
            padding: clamp(18px, 2.5vw, 24px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }

        .field-item + .field-item {
            margin-top: var(--spacing-xl);
        }

        .field-item-heading {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }

        .field-item-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .field-item-title i {
            color: var(--accent-primary);
            font-size: 1rem;
        }

        .field-item-heading h3 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .field-item-heading p {
            margin: var(--spacing-xs) 0 0;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .field-item-body {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .field-item-footer {
            color: var(--text-accent);
            font-size: 0.85rem;
            padding-top: var(--spacing-sm);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .card--plain {
            background: transparent;
            border: none;
            box-shadow: none;
            padding: 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.12);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            padding-bottom: var(--spacing-2xl);
            padding-top: var(--spacing-xl);
        }

        .card--plain .card-body {
            padding: 0;
        }

        .card--plain + .card--plain {
            margin-top: var(--spacing-2xl);
        }

        .field-item-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .field-item-body label:not(.sr-only) {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
            display: inline-block;
        }

        .field-item-body input,
        .field-item-body select,
        .field-item-body textarea {
            width: 100%;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            border-radius: var(--radius-small);
            padding: 12px 14px;
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
            box-shadow: var(--shadow-inset);
        }

        .field-item-body input:focus,
        .field-item-body select:focus,
        .field-item-body textarea:focus {
            outline: none;
            border-color: var(--input-border-strong);
            box-shadow: var(--shadow-focus);
            transform: translateY(-1px);
        }

        .field-item-body input::placeholder,
        .field-item-body textarea::placeholder {
            color: var(--text-secondary);
            opacity: 0.8;
        }

        .field-item-body textarea {
            resize: vertical;
            min-height: 96px;
        }

        .field-grid--spec-add {
            grid-template-columns: minmax(160px, 1fr) minmax(160px, 1fr) auto;
            align-items: center;
        }

        .field-grid--option-add {
            grid-template-columns: repeat(3, minmax(140px, 1fr)) auto;
            align-items: center;
        }

        .field-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .field-list-item {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: var(--spacing-sm);
            align-items: center;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-small);
            background: var(--chip-bg);
        }

        .field-grid {
            display: grid;
            gap: var(--spacing-sm);
        }

        .field-grid--two {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }

        .field-item-body .field-stack {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        @media (max-width: 768px) {
            .field-grid--two {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="app-shell">
    <div id="app-header"></div>

    <main class="dashboard-main">
        <div class="card" style="margin-bottom: var(--spacing-xl);">
            <div class="card-header">
                <div>
                    <nav class="breadcrumb" style="margin-bottom: var(--spacing-sm);">
                        <a href="dashboard.html">대시보드</a>
                        <span>/</span>
                        <a href="products.html">제품관리</a>
                        <span>/</span>
                        <span>새 템플릿 v2</span>
                    </nav>
                    <h1 style="font-size: 2rem; margin: 0;">새 제품 템플릿 (v2 실험)</h1>
                    <p style="color: var(--text-secondary); margin-top: var(--spacing-xs);">
                        카드 단위 레이아웃으로 입력 정보를 압축해 보는 실험 페이지입니다.
                    </p>
                </div>
                <div class="card-actions">
                    <a class="btn btn-secondary" href="products.html">
                        <i class="fas fa-arrow-left"></i>
                        기존 화면으로
                    </a>
                </div>
            </div>
        </div>

        <div class="card card--plain">
            <div class="card-header">
                <div>
                    <h2 class="card-title">기본 정보</h2>
                    <p class="card-subtitle">템플릿을 정의하는 핵심 필드를 카드 단위로 입력합니다.</p>
                </div>
                <button class="btn btn-primary" type="submit" form="addProductFormV2">
                    <i class="fas fa-save"></i>
                    임시 저장
                </button>
            </div>
            <div class="card-body">
                <form id="addProductFormV2" class="product-form product-form--v2">
                    <div class="field-group">
                        <div class="field-item">
                            <div class="field-item-heading">
                                <div class="field-item-title">
                                    <h3>템플릿 코드</h3>
                                </div>
                                <p>영문 대문자와 숫자를 조합해 템플릿을 구분하세요. 생산/견적 시스템과 연동될 수 있습니다.</p>
                            </div>
                            <div class="field-item-body">
                                <label class="sr-only" for="templateCodeV2">템플릿 코드 *</label>
                                <input id="templateCodeV2" name="template_code" type="text" placeholder="예: CH-MEDIUM" required>
                                <small>중복될 경우 저장이 거부됩니다.</small>
                            </div>
                            <div class="field-item-footer">
                                예: `CH-LARGE`, `CLS-40S`, `VIB-10`. 하이픈으로 사이즈/규격을 구분하세요.
                            </div>
                        </div>

                        <div class="field-item">
                            <div class="field-item-heading">
                                <div class="field-item-title">
                                    <h3>제품 카테고리 &amp; 소모품</h3>
                                </div>
                                <p>템플릿의 기본 분류와 소모품 여부는 목록 필터 및 재고 정책에 직접 연결됩니다.</p>
                            </div>
                            <div class="field-item-body">
                                <div class="field-grid field-grid--two">
                                    <div class="field-stack">
                                        <label for="categoryV2">카테고리 *</label>
                                        <select id="categoryV2" name="category" required>
                                            <option value="">카테고리 선택</option>
                                            <option value="CHAMBER">챔버시스템</option>
                                            <option value="EQUIPMENT">측정장비</option>
                                            <option value="PARTS">소모품</option>
                                            <option value="AUTOCLAVE">멸균기</option>
                                        </select>
                                    </div>
                                    <div class="field-stack">
                                        <label for="isConsumableV2">소모품 여부</label>
                                        <select id="isConsumableV2" name="is_consumable">
                                            <option value="false">일반 제품</option>
                                            <option value="true">소모품</option>
                                        </select>
                                    </div>
                                </div>
                                <small>소모품은 자동으로 주기적 교체 목록에 노출됩니다.</small>
                            </div>
                        </div>

                        <div class="field-item">
                            <div class="field-item-heading">
                                <div class="field-item-title">
                                    <h3>제품명 &amp; 설명</h3>
                                </div>
                                <p>고객에게 노출되는 제품명과 주요 특징을 기입하세요. 설명은 견적서에도 사용됩니다.</p>
                            </div>
                            <div class="field-item-body">
                                <div class="field-stack">
                                    <label for="templateNameV2">제품명 *</label>
                                    <input id="templateNameV2" name="template_name" type="text" placeholder="예: 중형 챔버 시스템" required>
                                </div>
                                <div class="field-stack">
                                    <label for="descriptionV2">제품 설명</label>
                                    <textarea id="descriptionV2" name="description" rows="3" placeholder="제품의 주요 특징, 설치 조건, 사용 용도를 적어주세요."></textarea>
                                </div>
                            </div>
                            <div class="field-item-footer">
                                설명은 최대 500자까지 입력 가능합니다. 줄바꿈을 활용해 특장점을 정리해 주세요.
                            </div>
                        </div>
                    </div>

                    <div class="card card--plain">
                        <div class="card-body">
                            <div class="field-group">
                                <div class="field-item">
                                    <div class="field-item-heading">
                                        <div class="field-item-title">
                                            <i class="fas fa-cogs"></i>
                                            <h3>핵심 사양</h3>
                                        </div>
                                        <p>주요 스펙을 키-값 형태로 입력하세요. 저장 후 순서 변경과 강조 표시를 지원할 예정입니다.</p>
                                    </div>
                                    <div class="field-item-body">
                                        <span class="field-item-label">사양 리스트</span>
                                        <div class="field-list" id="specListV2">
                                            <div class="field-list-item">
                                                <span>온도범위 · 15~30°C</span>
                                                <button class="btn btn-secondary btn-icon" type="button">
                                                    <i class="fas fa-trash-alt"></i>
                                                </button>
                                            </div>
                                            <div class="field-list-item">
                                                <span>챔버 용량 · 24m³</span>
                                                <button class="btn btn-secondary btn-icon" type="button">
                                                    <i class="fas fa-trash-alt"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="field-grid field-grid--spec-add">
                                            <div class="field-stack">
                                                <label class="sr-only" for="specKeyV2">사양명</label>
                                                <input type="text" placeholder="사양명 (예: 온도범위)" id="specKeyV2">
                                            </div>
                                            <div class="field-stack">
                                                <label class="sr-only" for="specValueV2">사양값</label>
                                                <input type="text" placeholder="값 (예: 15~30°C)" id="specValueV2">
                                            </div>
                                            <button class="btn btn-secondary" type="button">
                                                <i class="fas fa-plus"></i>
                                                추가
                                            </button>
                                        </div>
                                    </div>
                                    <div class="field-item-footer">
                                        사양은 최대 15개까지 입력할 수 있습니다. 중요도 순서대로 배치해 주세요.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card--plain">
                        <div class="card-body">
                            <div class="field-group">
                                <div class="field-item">
                                    <div class="field-item-heading">
                                        <div class="field-item-title">
                                            <i class="fas fa-list"></i>
                                            <h3>제품 옵션</h3>
                                        </div>
                                        <p>사이즈, 색상 등 선택형 옵션을 그룹으로 묶어서 관리합니다. 기본 선택 옵션도 지정하세요.</p>
                                    </div>
                                    <div class="field-item-body">
                                        <span class="field-item-label">옵션 목록</span>
                                        <div class="field-list">
                                            <div class="field-list-item">
                                                <span>size · 24m³ (기본)</span>
                                                <button class="btn btn-secondary btn-icon" type="button">
                                                    <i class="fas fa-pen"></i>
                                                </button>
                                            </div>
                                            <div class="field-list-item">
                                                <span>size · 30m³</span>
                                                <button class="btn btn-secondary btn-icon" type="button">
                                                    <i class="fas fa-pen"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="field-grid field-grid--option-add">
                                            <div class="field-stack">
                                                <label class="sr-only" for="optionTypeV2">옵션 타입</label>
                                                <input id="optionTypeV2" type="text" placeholder="옵션 타입 (예: size)">
                                            </div>
                                            <div class="field-stack">
                                                <label class="sr-only" for="optionTypeLabelV2">옵션 라벨</label>
                                                <input id="optionTypeLabelV2" type="text" placeholder="옵션 라벨 (예: 크기)">
                                            </div>
                                            <div class="field-stack">
                                                <label class="sr-only" for="optionValueV2">옵션 값</label>
                                                <input id="optionValueV2" type="text" placeholder="옵션 값 (예: 24m³)">
                                            </div>
                                            <button class="btn btn-secondary" type="button">
                                                <i class="fas fa-plus"></i>
                                                추가
                                            </button>
                                        </div>
                                    </div>
                                    <div class="field-item-footer">
                                        옵션 그룹별로 최대 10개의 값을 등록할 수 있으며, 기본값은 한 개만 선택 가능합니다.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; justify-content: flex-end; gap: var(--spacing-md);">
                        <button class="btn btn-secondary" type="button">
                            <i class="fas fa-undo"></i>
                            임시 초기화
                        </button>
                        <button class="btn btn-primary" type="submit">
                            <i class="fas fa-save"></i>
                            템플릿 저장
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <div id="app-footer"></div>
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/common.js"></script>
    <script>
        if (typeof renderAppHeader === 'function') {
            renderAppHeader({ active: 'products' });
        }
        if (typeof renderAppFooter === 'function') {
            renderAppFooter();
        }
    </script>
</body>
</html>
