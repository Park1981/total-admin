<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNITECH PORTAL - 제품관리</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/products.css">

</head>
<body class="app-shell">
    <!-- 헤더 -->
    <header class="header">
        <div class="header-container">
            <div class="header-top">
                <div class="header-top-left">
                    <div class="company-brand">
                        <i class="fas fa-industry" aria-hidden="true"></i>
                        UNITECH PORTAL
                    </div>
                </div>
                <div class="header-top-right">
                    <nav class="main-nav" aria-label="주요 메뉴">
                        <ul class="nav-menu">
                            <li class="nav-item">
                                <a href="dashboard.html">
                                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                                    <span>대시보드</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="products.html" class="active" aria-current="page">
                                    <i class="fas fa-cube" aria-hidden="true"></i>
                                    <span>제품관리</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" onclick="return notifyPending('납품관리');">
                                    <i class="fas fa-truck" aria-hidden="true"></i>
                                    <span>납품관리</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" onclick="return notifyPending('거래처관리');">
                                    <i class="fas fa-handshake" aria-hidden="true"></i>
                                    <span>거래처관리</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" onclick="return notifyPending('A/S관리');">
                                    <i class="fas fa-tools" aria-hidden="true"></i>
                                    <span>A/S관리</span>
                                </a>
                            </li>
                        </ul>
                    </nav>

                    <button class="settings-btn" type="button" onclick="openSettings()" aria-label="설정">
                        <i class="fas fa-gear" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

            <div class="header-bottom">
                <div class="session-info">
                    <strong>제품관리</strong>
                    <span class="session-meta">제품 템플릿 및 옵션 관리</span>
                </div>
                <div class="header-actions">
                    <span class="session-label">로그인 정보</span>
                    <div class="user-profile">
                        <div class="user-avatar">
                            <i class="fas fa-user" aria-hidden="true"></i>
                        </div>
                        <span>시스템 관리자</span>
                    </div>
                    <button class="logout-btn" type="button" onclick="logout()">
                        <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                        로그아웃
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="main-content">
        <!-- 페이지 헤더 -->
        <div class="page-header">
            <div class="page-header-meta">
                <nav class="page-breadcrumb" aria-label="현재 위치">
                    <a href="dashboard.html">대시보드</a>
                    <span aria-hidden="true">/</span>
                    <span aria-current="page">제품관리</span>
                </nav>
                <h1>제품관리</h1>
                <p class="page-subtitle">제품 템플릿 및 옵션 관리 시스템</p>
            </div>
        </div>

        <!-- 컨텐츠 컨테이너 -->
        <div class="content-container">
            <!-- 탭 네비게이션 -->
            <div class="tab-nav">
                <div class="tab-nav-group" role="tablist">
                    <button class="tab-btn active" data-tab="templates" onclick="switchTab('templates', event)">
                        <i class="fas fa-cube"></i>
                        제품 템플릿
                    </button>
                </div>
                <div class="tab-actions">
                    <button class="btn btn-secondary btn-icon" type="button" onclick="refreshProducts()" aria-label="제품 목록 새로고침">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-primary tab-action-btn" type="button" onclick="showAddProductForm()">
                        <i class="fas fa-plus"></i>
                        새 제품 추가
                    </button>
                </div>
            </div>

            <!-- 제품 목록 탭 -->
            <div id="templates-tab" class="tab-content active">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="color: var(--text-primary); margin: 0;">등록된 제품 템플릿</h3>
                    <span id="product-count" style="color: var(--text-accent); font-size: 0.9rem;">총 0개</span>
                </div>

                <div id="products-grid" class="product-grid">
                    <!-- 제품 목록이 여기에 로드됩니다 -->
                </div>
            </div>

            <!-- 제품 추가 탭 -->
            <div id="add-tab" class="tab-content">
                <h3 style="color: var(--text-primary); margin-bottom: 20px;">새 제품 템플릿 추가</h3>
                <p style="color: var(--text-secondary); margin-bottom: 30px;">
                    기본 제품 템플릿을 생성하고 다양한 옵션을 설정할 수 있습니다.
                </p>

                <!-- 제품 추가 폼 -->
                <form id="addProductForm" class="product-form">
                    <!-- 기본 정보 섹션 -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-info-circle"></i>
                            기본 정보
                        </h4>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="category">카테고리 *</label>
                                <select id="category" name="category" required>
                                    <option value="">카테고리 선택</option>
                                    <option value="CHAMBER">챔버시스템</option>
                                    <option value="EQUIPMENT">측정장비</option>
                                    <option value="PARTS">소모품</option>
                                    <option value="AUTOCLAVE">멸균기</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="isConsumable">소모품 여부</label>
                                <select id="isConsumable" name="is_consumable">
                                    <option value="false">일반 제품</option>
                                    <option value="true">소모품</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="templateCode">템플릿 코드 *</label>
                                <input type="text" id="templateCode" name="template_code"
                                       placeholder="예: CH-MEDIUM" required>
                                <small>영문 대문자, 숫자, 하이픈 사용 권장</small>
                            </div>

                            <div class="form-group">
                                <label for="templateName">제품명 *</label>
                                <input type="text" id="templateName" name="template_name"
                                       placeholder="예: 중형 챔버 시스템" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="description">제품 설명</label>
                            <textarea id="description" name="description" rows="3"
                                    placeholder="제품의 주요 특징과 용도를 설명해주세요."></textarea>
                        </div>
                    </div>

                    <!-- 기본 사양 섹션 -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-cogs"></i>
                            기본 사양
                        </h4>

                        <div id="specifications-container">
                            <div class="spec-item">
                                <div class="spec-inputs">
                                    <input type="text" placeholder="사양명 (예: 온도범위)" class="spec-key">
                                    <input type="text" placeholder="값 (예: 15~30°C)" class="spec-value">
                                    <button type="button" class="btn-remove-spec" onclick="removeSpecification(this)">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn-add-spec" onclick="addSpecification()">
                            <i class="fas fa-plus"></i>
                            사양 추가
                        </button>
                    </div>

                    <!-- 제품 옵션 섹션 -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-list"></i>
                            제품 옵션
                        </h4>

                        <div id="options-container">
                            <div class="option-group">
                                <div class="option-header">
                                    <input type="text" placeholder="옵션 타입 (예: size)" class="option-type">
                                    <input type="text" placeholder="옵션 라벨 (예: 크기)" class="option-type-label">
                                    <button type="button" class="btn-remove-option-group" onclick="removeOptionGroup(this)">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>

                                <div class="option-values">
                                    <div class="option-value-item">
                                        <input type="text" placeholder="옵션 값 (예: 24m³)" class="option-value">
                                        <input type="text" placeholder="표시 라벨 (예: 24m³ (4.0×3.0×2.0m))" class="option-label">
                                        <input type="checkbox" class="option-default" title="기본 선택">
                                        <button type="button" class="btn-remove-option-value" onclick="removeOptionValue(this)">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                    </div>
                                </div>

                                <button type="button" class="btn-add-option-value" onclick="addOptionValue(this)">
                                    <i class="fas fa-plus"></i>
                                    옵션 값 추가
                                </button>
                            </div>
                        </div>

                        <button type="button" class="btn-add-option-group" onclick="addOptionGroup()">
                            <i class="fas fa-plus"></i>
                            옵션 그룹 추가
                        </button>
                    </div>

                    <!-- 폼 액션 -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="resetForm()">
                            <i class="fas fa-undo"></i>
                            초기화
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            제품 템플릿 저장
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- 토스트 메시지 컨테이너 -->
    <div class="toast-container" id="toastContainer"></div>

    
    <script src="js/common.js"></script>
    <script src="js/products.js"></script>

</body>
</html>
