# 유니태크(주) 관리자 사이트 기획서 (초안)

---

## 1단계 — 목적 · 대상 · 범위 · 제약

### 한 줄 정의

직원, 장비, 납품, A/S 정보를 한 곳에서 관리하는 **사내 전용 토탈 관리자 사이트**

### 핵심 문제 (Top 3)

1. 납품된 장비들의 상태·이력 파악이 어려움
2. A/S 이력·검교정 기록이 분산되어 관리 불가
3. 장비/거래처/납품정보가 통합되지 않아 추후 추적 불편

### 주요 사용자

* **Admin**: 전체 권한, 시스템 관리
* **Manager/Staff**: 내부 직원 (사내 전용)
* 고객/외부인은 접근 불가

### 대표 시나리오

* **제품 목록 관리**: 제조/구매 대행 장비 DB화
* **납품 관리**: 고객사/납품처·담당자·일정 기록
* **A/S 관리**: 장비별 A/S 요청·처리 이력 추적
* **검교정 관리**: 장비 단위로 검교정 기록/예정 관리

### 범위 (Scope)

* **v1 필수**: 직원 관리, 장비 관리, 납품 관리, A/S 관리, 대시보드, 데이터 내보내기
* **v2 확장**: 일정 캘린더, 모바일 최적화, 알림 기능

### 성공 지표 (KPI)

* 납품/A·S 이력 기록률 **100%**
* 장비 조회/검색 응답속도 **1초 이내**
* 장비-납품-거래처 매칭 정확도 **99%**

### 제약 / 전제

* 운영비 최소 (Vercel/Render/Supabase Free Tier)
* 인증/권한: 직원 DB 기반 로그인·RBAC
* 백업: 관리자 수동 CSV/Excel 내보내기
* 감사로그: v1 생략

---

## 2단계 — 도메인/용어사전

### 최상위 개념

* **장비 (Equipment)**
* **거래처 (Account)** (+ 거래처 담당자)
* **납품지 (Site)**

### 핵심 엔터티

* Employee (직원)
* Account (거래처)
* Site (납품지)
* AccountContact (담당자)
* Equipment (장비)
* EquipmentModel (모델 마스터, 선택)
* Delivery / DeliveryItem (납품)
* ServiceTicket (A/S)
* Inspection (검교정)
* Attachment (첨부)

### 금칙어

* 장치/제품/물품/기기 → **장비**
* 고객/고객사/납품처 → **거래처** / **납품지**
* A/S 요청/수리/고장 → **A/S 티켓**

### ID 규칙

* 접두어 + 연도 + 6자리: `EQP-2025-000123`

### 네이밍 규칙

* DB: 스네이크케이스 (`serial_no`)
* API/프론트: 카멜케이스 (`serialNo`)
* 시간: UTC 저장, 프론트 변환 표시

### 보안/운영

* 직원 DB 기반 인증/권한 관리
* 감사로그: v1 생략
* 백업: 관리자 수동 내보내기

---

## 3단계 — 정보 구조 (IA) · 메뉴 맵

### 메뉴 트리

* **대시보드**

  * 도래하는 검교정 일정
  * 오늘/이번주 A/S 예정 & 지연 건
  * 최근 납품 정보
  * 장비 상태 분포(파이차트)
* **장비**

  * 장비 목록 (+ 선택 시 검교정 이력 표시)
  * 장비 등록 (+ 버튼)
  * 데이터 내보내기
* **납품**

  * 납품 목록 / 납품 등록
  * 거래처별 / 납품지별 / 일정별 Sort
  * 데이터 내보내기
* **A/S**

  * 티켓 목록 / 새 티켓
  * (캘린더: v2)
  * 데이터 내보내기
* **거래처**

  * 거래처 목록 / 납품지 관리 / 담당자 관리
  * 데이터 내보내기
* **직원** (관리 영역)

  * 직원 목록 / 권한 관리 (RBAC)
* **설정**

  * 코드/ID 규칙 보기, 상태값 관리

### 목록 화면 기본 컬럼

* 장비: 장비명, 상태, 설치지, 최근 A/S일, 다음 검교정일
* 납품: 납품일자, 거래처(클릭 시 납품지·담당자 패널), 장비명, 상태
* A/S: 접수일, 완료일, 장비명, 거래처(클릭 시 납품지·담당자 패널), 상태
* 거래처: 상호(+지역), 담당자, 연락처, 이메일, 납품장비 수
* 직원: 이름, 직책, 연락처, 활성여부

### 빠른 검색/필터

* 장비: 모델, 상태, 검교정 예정일, 거래처
* 납품: 기간, 거래처, 장비, 납품지
* A/S: 상태, 기간, 장비

### 상태값

* 장비 상태: active / stored / delivered / installed / retired (표시는 한글+색상)
* A/S 상태: open / in\_progress / on\_hold / done / canceled (표시는 한글+색상)

### 등록/상세 화면 필수 필드

* 장비 등록: 모델, 시리얼, 구매형태, 상태, 보증만료일(선택), 비고(선택)
* 납품 등록: 장비(여러 대 가능), 거래처, 납품지, 납품일자, 담당자, 비고(선택)
* A/S 등록: 장비, 거래처/납품지/담당자, 접수일자, 증상, 우선순위, 담당자
* 검교정 등록: 장비, 유형, 실행일, 결과, 다음 예정일, 증빙(첨부), 비고

---

## 6단계 — DB 스키마 초안 (핵심)

DB_PLAN.md 참고.

### 상태값 관리

* v1: **DB 마스터 테이블 없이 CHECK 제약**

  * equipment.status ∈ (active, stored, delivered, installed, retired)
  * service\_tickets.status ∈ (open, in\_progress, on\_hold, done, canceled)
* 한글 라벨/색상은 프론트 상수로 매핑

### 검교정 정책

* 장비 단위 대표 1건으로 기록 (부품 단위는 v2 확장)
* 장비 테이블에 `last_inspection_at`, `next_inspection_due` 요약 필드 포함

---

## 개선 로드맵

* **v1.1**: 트리거로 장비 요약 자동 갱신
* **v2**: 일정 캘린더, 모바일 입력 UI, 알림 기능
* **v3**: 부품/재고/원가 관리, 고객 포털, 텔레메트리 연계
